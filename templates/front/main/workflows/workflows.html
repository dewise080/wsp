{% extends 'front/base.html' %}
{% load static i18n %}

{% block title1 %}{{ seo.meta_title|default:"Workflows" }}{% endblock title1 %}
{% block title2 %}{{ seo.meta_title|default:"Workflows" }}{% endblock title2 %}
{% block title %}{{ seo.meta_title|default:"Workflows" }} - {{ settings.name }}{% endblock title %}

{% block content %}
<main class="creasoft-wrap">
    <div class="line_wrap">
        <div class="line_item"></div>
        <div class="line_item"></div>
        <div class="line_item"></div>
        <div class="line_item"></div>
        <div class="line_item"></div>
    </div>

    <section class="breadcrumbs">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb-wrapper">
                        <div class="breadcrumb-cnt">
                            <h1>{% trans "Workflows" %}</h1>
                            <span><a href="{% url "homePageFront" %}">{% trans "Home" %}</a><i class="bi bi-arrow-right"></i>{% trans "Workflows" %}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Workflows List Section -->
    <section class="section-padding" style="margin-top:150px;">
        <div class="container">
            <div class="row">
                {% for workflow in workflows %}
                <div class="col-lg-4 col-md-6 col-12 mb-4">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body">
                            <h5 class="card-title" data-inline-field="name" data-inline-api="/api/workflows/" data-inline-id="{{ workflow.id }}">{{ workflow.name }}</h5>
                            {% if workflow.description %}
                            <p class="card-text text-muted" data-inline-rich="true" data-inline-field="description" data-inline-api="/api/workflows/" data-inline-id="{{ workflow.id }}">{{ workflow.description }}</p>
                            {% endif %}
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <small class="text-muted">
                                    <i class="bi bi-diagram-3"></i> {{ workflow.nodes.count }} {% trans "nodes" %}
                                </small>
                                <a href="{% url 'workflowDetail' workflow.slug %}" class="btn btn-outline-primary btn-sm" style="color: #75dab4; background-color: #fff; border-color: #75dab4">

                                    {% trans "View Workflow" %}
                                </a>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent">
                            <small class="text-muted">
                                <i class="bi bi-calendar"></i> {{ workflow.created_at|date:"M d, Y" }}
                            </small>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12">
                    <div class="text-center py-5">
                        <i class="bi bi-diagram-3 display-1 text-muted"></i>
                        <h4 class="mt-3 text-muted">{% trans "No workflows available" %}</h4>
                        <p class="text-muted">{% trans "Check back later for new automation workflows." %}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
</main>
{% endblock content %}
